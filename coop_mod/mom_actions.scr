//Created by chrissstrahl on 2018.07.02 - based on Multi Option Menu from Star Trek Elite Force II from 2009 for the HaZardModding Coop Mod
//updated: 2018.07.13
//
//this is controlled by mom/mom.scr
//
// THIS FILE HAS BEEN MODIFIED TO BE USED FOR THE COOP MOD

//=========================================================================
main local.action:{
//=========================================================================
thread debugThread "mom_actions/main->"
	if( self == NULL ){
		end
	}
	local.threadN = "momAction"
	local.threadN += local.action
	thread (local.threadN)
}end

//=========================================================================
momAction0:{
//=========================================================================
thread debugThread "mom_actions/momAction0->"
	waitthread momExit
	if(self != NULL){
		self exec coop_mod/developer.scr::threatbias
	}
}end

//=========================================================================
momAction1:{
//=========================================================================
thread debugThread "mom_actions/momAction1->"
	iprintlnbold_noloc ( "pressed 1" ) //health 100
}end

//=========================================================================
momAction2:{
//=========================================================================
thread debugThread "mom_actions/momAction2->"
	iprintlnbold_noloc ( "pressed 2" ) //health 250
}end

//=========================================================================
momAction3:{
//=========================================================================
thread debugThread "mom_actions/momAction3->"
	iprintlnbold_noloc ( "pressed 3" ) //health 500
}end

//=========================================================================
momAction4:{
//=========================================================================
thread debugThread "mom_actions/momAction4->"
	iprintlnbold_noloc ( "pressed 4" ) //health 1000
}end

//=========================================================================
momAction5:{
//=========================================================================
thread debugThread "mom_actions/momAction5->"
	iprintlnbold_noloc ( "pressed 5" )
}end

//=========================================================================
momAction6:{
//=========================================================================
thread debugThread "mom_actions/momAction6->"
	iprintlnbold_noloc ( "pressed 6" )
}end

//=========================================================================
momAction7:{
//=========================================================================
thread debugThread "mom_actions/momAction7->"
	waitthread momExit
	if(self != NULL){
		self exec coop_mod/developer.scr::notarget
	}
}end

//=========================================================================
momAction8:{
//=========================================================================
thread debugThread "mom_actions/momAction8->"
	waitthread momExit
	self exec coop_mod/developer.scr::showtouch
}end

//=========================================================================
momAction9:{
//=========================================================================
thread debugThread "mom_actions/momAction9->"
	iprintlnbold_noloc ( "pressed 9" ) //next mission
}end

//=========================================================================
momAction10:{
//=========================================================================
thread debugThread "mom_actions/momAction10->"
	//[200] chrissstrahl - make this player start a callvote
	if(self == NULL){ end }	
	
	if(level.coopNextMap == NIL){
		self iprint ("Error level.coopNextMap is not set in:"+level.script) 1
	}
	
	self stufftext ( "callvote map "+level.coopNextMap )
	waitthread momExit
}end

//=========================================================================
momAction11:{
//=========================================================================
thread debugThread "mom_actions/momAction11->"
	//[200] chrissstrahl - make this player start a callvote
	if(self == NULL){ end }	
	
	if(level.coopPrevMap == NIL){
		self iprint ("Error level.coopPrevMap is not set in:"+level.script) 1
	}
	
	self stufftext ( "callvote map "+level.coopPrevMap )
	waitthread momExit
}end

//=========================================================================
momAction12:{
//=========================================================================
thread debugThread "mom_actions/momAction12->"
	iprintlnbold_noloc ( "pressed 12" ) //Previus Mission
}end

//=========================================================================
momAction13:{
//=========================================================================
thread debugThread "mom_actions/momAction13->"
	waitthread momExit
	if(self != NULL){
		self exec coop_mod/developer.scr::spawnpoints
	}
}end

//=========================================================================
momAction14:{
//=========================================================================
thread debugThread "mom_actions/momAction14->"
	waitthread momExit
	if(self != NULL){
		self exec coop_mod/developer.scr::heal
	}
}end

//=========================================================================
momAction15:{
//=========================================================================
thread debugThread "mom_actions/momAction15->"
	waitthread momExit
	wait 1
	if(self != NULL){
		self exec coop_mod/developer.scr::noclip
	}
}end


//=========================================================================
momExit:{
//=========================================================================
thread debugThread "mom_actions/momExit->"
	//signal the script that we want to exit
	self.flags["momActive"] = 0
	waitframe
}end

//[204] cleanup - central debug print helper to reduce repeated preamble code
//==========================================================================
debugThread local.label:{
//==========================================================================
	if(level.cMTE_coop_mom_actions){
		if(!level.cMTE){ level.cMTE = 0 }
		level.cMTE++
		println( "-#-#- thread " + local.label + "->" + level.cMTE )
	}
}end

